<%= form_with model: @trip do |form| %>
  <% if @trip.errors.any? %>
    <div class="card notification is-danger">
      <h2><%= pluralize(@trip.errors.count, "error") %> prohibited this Trip from being saved:</h2>
      <ul>
        <% @trip.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div>
    Bus Code : <%= @trip.bus.code %><br>
    Total Booked : <%= @trip.total_booked %>
  </div>
  <br>
  <div>
    <%= form.label :ticket_price %><br>
    <%= form.number_field :ticket_price %>
  </div>
  <div>
    <%= form.label :date %><br>
    <%= form.date_field :date %>
  </div>
  <div>
    <%= form.label :time %><br>
    <%= form.time_field :time %>
  </div>
  <div>
    <%= form.label :route %><br>
    <%= form.select :route_id, Route.all.map{ |route| [route.full_name, route.id] } %>
  </div>
  <% # Render boardings fields %>
  <h3>Boardings:</h3>
  <%= form.fields_for :boardings do |boarding_form| %>
    <%= render 'boarding_fields', f: boarding_form %>
  <% end %>
  <div class="links">
    <%= link_to_add_association 'Add Boarding', form, :boardings %>
  </div>
  <div>
    <%= form.submit %>
  </div>
<% end %>
